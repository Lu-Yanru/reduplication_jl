% disambiguate bib names
\newrobustcmd{\disambiguate}[3]{#2~#3}

% refs
\newcommand{\sectref}[1]{Section~\ref{#1}}
\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\citegen}[2][]{\citeauthor{#2}'s (\citeyear*[#1]{#2})}

\renewcommand{\subref}[1]{\StrRight{\getrefnumber{#1}}{1}}

%%% Linguistics graphs related
%% indexed box
\newlength{\MyetagLength}
\settowidth{\MyetagLength}{{$\scriptstyle 1$}}

%% indexed box
\newcommand{\iboxt}[1]{{%
        \setlength{\fboxsep}{1.25pt}%
        \fbox{$\scriptstyle #1$}%
}}


\newcommand{\ibox}[1]{%
    %  \iboxt{#1}\,%       why this extra space???? 20.02.2018
    \iboxt{#1}%
}

\newcommand{\iboxb}[1]{(\,\iboxt{#1}\,)}

%% empty box
\newcommand{\etag}{\ibox{\rule{0ex}{1.1ex}\hspace{\MyetagLength}}\xspace}

%% type
\newcommand{\type}[1]{{\normalfont\itshape #1\/}}

%% list of phons
\newcommand{\phonliste}[1]{%
    \mbox{%
        $%
        %
        \left\langle \mbox{\normalfont\itshape#1} \right\rangle%
        $%
        %\\[-1.5mm]
    }%
}

\newcommand{\sliste}[1]{%
    \mbox{%
        $\left\langle\mbox{\upshape #1}\right\rangle$}%
}

\newcommand{\impl}{$\Rightarrow$\xspace}

% does not work properly St.MÃ¼. 2023-06-22
\makeatletter
\def\eas{\ifnum\@xnumdepth=0\begin{exe}[(34)]\else\begin{xlist}[iv.]\fi\ex\begin{tabular}[t]{@{}p{\linewidth}@{}}}
\def\zs{\end{tabular}\ifnum\@xnumdepth=1\end{exe}\else\end{xlist}\fi}
\makeatother


%\def\ea{\ifnum\@xnumdepth=0\begin{exe}[(234)]\else\begin{xlist}[iv.]\fi\ex}
%\def\z{\ifnum\@xnumdepth=1\end{exe}\else\end{xlist}\fi}

% pinyin
\newcommand{\obj}[1]{\pinyin[format = \itshape]{#1}}
\newcommand{\objex}[1]{\pinyin{#1}}



\newcommand{\comps}{\textsc{comps}\xspace}
\newcommand{\compsl}{\textsc{comps} list\xspace}

\newcommand{\relsl}{\textsc{rels} list\xspace}

\newcommand{\spr}{\textsc{spr}\xspace}
\newcommand{\sprl}{\textsc{spr} list\xspace}%

\usepackage{todonotes}

\newcommand{\todostefan}[1]{\todo[color=orange!80]{\footnotesize #1}\xspace}
\newcommand{\todosatz}[1]{\todo[color=red!40]{\footnotesize #1}\xspace}

\newcommand{\inlinetodostefan}[1]{\todo[color=green!40,inline]{\footnotesize #1}\xspace}

\newcommand{\inlinetodoopt}[1]{\todo[color=green!40,inline]{\footnotesize #1}\xspace}
\newcommand{\inlinetodoobl}[1]{\todo[color=red!40,inline]{\footnotesize #1}\xspace}

\newcommand{\itd}[1]{\iftoggle{draft}{\inlinetodoobl{#1}}{}}
\newcommand{\itdobl}[1]{\iftoggle{draft}{\inlinetodoobl{#1}}{}}
\newcommand{\itdopt}[1]{\iftoggle{draft}{\inlinetodoopt{#1}}{}}

% for editing, remove later
%\usepackage{xcolor}
\newcommand{\iaddpages}{\iftoggle{draft}{\yel[add pages]{pages}\xspace}}

\newcommand{\addpages}{\iftoggle{draft}{\todostefan{add pages}}\xspace}
\newcommand{\addsource}{\iftoggle{draft}{\todostefan{add source}}\xspace}
\newcommand{\addglosses}{\iftoggle{draft}{\todostefan{add glosses}}\xspace}

\newcommand{\inPreparation}{In preparation}